# P0要件を満たす画面・機能設計

## 画面一覧（P0のみ）

### 1. Initial Setup Screen（初回設定画面）
- **目的**
  - 初回起動時に必要最低限の設定を完了し、迷わず記録開始へ導く
- **主な機能**
  - 言語選択（英語 / 日本語）
  - 単位選択（kg / lb）
  - 設定完了後、Home Screenへ遷移

### 2. Home Screen（ホーム画面）
- **目的**
  - 記録開始への最速導線（2タップ以内を実現）
- **主な機能**
  - 「記録開始」ボタン（新規セッション開始）
  - 「記録中の続き」ボタン（記録中セッションがある場合のみ表示、強調表示）
  - 設定画面への導線

### 3. Workout Input Screen（トレーニング記録入力画面）★最重要★
- **目的**
  - 部位・種目・セットを爆速で入力（1セット5秒以内）
  - 前回記録と比較しながら迷わず進められる
  - タイマーと統合し、アプリ単独で完結
- **主な機能**
  - 種目追加ボタン（部位選択→種目選択/自由入力のフローを起動）
  - 種目カード表示
    - 種目名
    - 前回記録の明確な提示（例：前回 40×10 / 40×10 / 35×12）
    - 「前回を再現」ボタン（全セットをワンタップで複製）
  - セット入力エリア（重量・回数を親指操作で入力）
  - セット追加（+ボタン）
  - セット削除（×ボタン）
  - 前回値をコピーボタン（セット単位で1タップコピー）
  - タイマーのミニ表示（フローティング/常時表示、タップで拡大）
  - 記録完了ボタン

### 4. Settings Screen（設定画面）
- **目的**
  - 言語・単位の変更
- **主な機能**
  - 言語切替（英語 / 日本語）
  - 単位切替（kg / lb）

---

## 機能一覧（P0のみ）

### 1. 記録開始/再開機能
- **何を解決するか**
  - ホーム→記録開始が2タップ以内を実現
  - 記録中セッションがあれば即座に復帰できる
- **どの画面で使うか**
  - Home Screen

### 2. 種目選択/追加機能
- **何を解決するか**
  - 部位→種目を迅速に選択
  - 標準リストに無い種目も自由入力で記録可能（初回体験の破綻防止）
  - 自由入力した種目は次回以降も選択可能（ユーザー辞書化）
- **どの画面で使うか**
  - Workout Input Screen（モーダル/ボトムシートで実装）

### 3. セット入力機能
- **何を解決するか**
  - 重量・回数を5秒以内で入力（親指操作に最適化）
  - 片手操作で迷わず完了
- **どの画面で使うか**
  - Workout Input Screen

### 4. セット追加/削除機能
- **何を解決するか**
  - セット数を柔軟に調整
  - 誤操作時に削除可能（削除確認で対応）
- **どの画面で使うか**
  - Workout Input Screen

### 5. 前回記録表示機能
- **何を解決するか**
  - 前回の同一種目の記録を明確に提示（直近completedセッション）
  - 前回が無い場合は「—」表示で初回体験を破綻させない
- **どの画面で使うか**
  - Workout Input Screen

### 6. 前回値コピー機能（セット単位）
- **何を解決するか**
  - 前回のNセット目の値を1タップでコピー
  - 前回にNセット目が無い場合は最終セットをコピー
- **どの画面で使うか**
  - Workout Input Screen

### 7. 前回を再現機能（全セット複製）
- **何を解決するか**
  - 前回の全セットをワンタップで複製（最速で前回と同じ構成を再現）
- **どの画面で使うか**
  - Workout Input Screen

### 8. タイマー機能（ミニ表示＋拡大モーダル）
- **何を解決するか**
  - セット間休憩の管理
  - 記録入力を邪魔しない（ミニ表示で常時確認可能）
  - タップで拡大し、操作しやすくなる
- **どの画面で使うか**
  - Workout Input Screen（ミニ表示：フローティングUI）
  - Timer Modal（拡大表示：Start / Pause / Reset）

### 9. タイマー終了通知機能
- **何を解決するか**
  - タイマー終了時に音/バイブで通知（セット間休憩の終了を知らせる）
- **どの画面で使うか**
  - Timer Modal

### 10. 単位切替/自動変換機能
- **何を解決するか**
  - kg/lbの切替
  - 前回記録が異なる単位の場合に自動変換してコピー（誤入力防止）
- **どの画面で使うか**
  - Settings Screen（切替）
  - Workout Input Screen（自動変換、データ保存・表示時）

### 11. 言語切替機能
- **何を解決するか**
  - 英語/日本語の切替（グローバル対応）
  - 文字列はリソース化（直書き禁止）
- **どの画面で使うか**
  - Initial Setup Screen（初回）
  - Settings Screen（変更）

### 12. ローカルデータ保存/復帰機能
- **何を解決するか**
  - オフライン完結
  - 記録中セッションの復帰（アプリ再起動後も継続可能）
  - パフォーマンス（入力中にカクつかない）
- **どの画面で使うか**
  - 全画面（バックグラウンド処理）

### 13. 記録完了機能
- **何を解決するか**
  - セッションをcompleted状態にする
  - 次回の「前回記録」として参照可能にする
- **どの画面で使うか**
  - Workout Input Screen

---

## 設計方針の確認

### 画面数の最小化
- **合計4画面**（Initial Setup / Home / Workout Input / Settings）
- 部位選択、種目選択は **モーダル/ボトムシート** で実装（別画面にしない）
- タイマーは **フローティングUI（ミニ表示）＋モーダル（拡大表示）** で実装（別画面にしない）

### トレーニング記録入力画面を最重要として扱う
- 全機能の80%がこの画面に集中
- 前回記録の提示、コピー、再現がすべてこの画面で完結
- タイマーも統合し、アプリ切替を不要にする

### タイマーは「記録を邪魔しない」前提
- **ミニ表示**：画面の邪魔にならない位置にフローティング表示（常時確認可能）
- **タップで拡大**：操作が必要な時だけモーダルで拡大
- 記録入力エリアと重ならない配置
