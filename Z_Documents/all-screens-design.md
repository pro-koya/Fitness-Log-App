# 全画面基本設計書：P0コア + P0拡張

---

# P0コア画面（最初に必ず作る・トレ中の体験を成立させる）

---

## 1. Initial Setup Screen（初回設定画面）

### 1. 画面の目的
- **達成すべきこと**: 言語・単位を設定し、迷わず記録開始へ導く
- **次の行動**: Home Screenへ遷移し、即座に記録開始できる状態にする

### 2. 表示要素

#### 必須表示要素
- アプリロゴ/アイコン（上部中央）
- ウェルカムメッセージ（例：「Welcome to [App Name]」）
- 言語選択（English / 日本語）
- 単位選択（kg / lb）
- 開始ボタン（Primary CTA）

#### 条件付き表示要素
- なし（初回起動時のみ表示される画面）

### 3. 主要操作（CTA）

#### 最も強いCTA
- **「始める」ボタン**（Start / 始める）
  - 言語・単位を保存し、Home Screenへ遷移
  - 画面下部に配置（親指ゾーン）
  - Primary色（目立つ色）で強調

#### 副次的操作
- なし（設定項目は必須なので、スキップ不可）

#### 操作回数を最小にする工夫
- 設定項目は2つのみ（言語・単位）
- デフォルト値を設定（OS言語に応じた自動選択）
- 1タップで選択完了（ラジオボタンまたはセグメントコントロール）

### 4. UI/UX設計の要点

#### 親指操作を前提とした配置
```
┌─────────────────────────────┐
│                             │
│      [App Logo/Icon]        │ ← 上部：ブランディング
│                             │
│     Welcome to [App Name]   │
│                             │
├─────────────────────────────┤
│   言語 / Language            │
│   ○ English   ○ 日本語       │ ← 中央：設定項目
│                             │
│   単位 / Unit               │
│   ○ kg        ○ lb          │
│                             │
├─────────────────────────────┤
│         [始める]             │ ← 下部：CTA（親指ゾーン）
└─────────────────────────────┘
```

#### 迷わせないための工夫
- 設定項目は2つのみ（言語・単位）で最小限
- デフォルト値を自動選択（OS言語が日本語なら「日本語」を選択状態）
- 選択肢は2つずつで迷わない
- 説明文は最小限（画面が煩雑にならない）

#### 入力速度を落とさないための設計
- デフォルト値があるので、タップせずに「始める」を押すだけでもOK
- 選択肢はラジオボタンまたはセグメントコントロールで1タップ選択

### 5. 状態別UI

#### 初回状態
- 上記のUI表示
- デフォルト値が選択されている状態

#### エラー時
- なし（必須項目は自動選択されているため、エラーは発生しない）

### 6. 前回記録との関係
- なし（初回設定画面のため）

### 7. タイマーとの関係
- なし（初回設定画面のため）

### 8. 計測イベント（最低限）
- `initial_setup_started`（画面表示時）
- `initial_setup_completed`（開始ボタンタップ時）
  - プロパティ：`language`（選択した言語）、`unit`（選択した単位）

### 9. i18n対象文言
- `welcome_message`: "Welcome to [App Name]" / "ようこそ [App Name] へ"
- `language_label`: "Language" / "言語"
- `language_english`: "English"
- `language_japanese`: "日本語"
- `unit_label`: "Unit" / "単位"
- `unit_kg`: "kg"
- `unit_lb`: "lb"
- `start_button`: "Start" / "始める"

---

## 2. Home Screen（ホーム画面）

### 1. 画面の目的
- **達成すべきこと**: 記録開始への最速導線（2タップ以内で記録開始）
- **次の行動**:
  - 新規セッション開始 → Workout Input Screenへ遷移
  - 記録中セッション再開 → Workout Input Screenへ遷移（続きから）

### 2. 表示要素

#### 必須表示要素
- アプリ名/ロゴ（上部中央）
- 本日の日付（例：2025年12月21日）
- 記録開始ボタン（Primary CTA）
- 設定ボタン（右上、アイコンのみ）

#### 条件付き表示要素
- **記録中セッションがある場合**:
  - 「記録中の続き」ボタン（Primary CTAとして強調、記録開始ボタンの上に配置）
  - 記録中セッションのサマリ（例：3種目、8セット記録済み）
- **今月のトレーニング回数**（P1、MVP後に追加検討）
- **トレーニング継続日数**（P1、MVP後に追加検討）

### 3. 主要操作（CTA）

#### 最も強いCTA
- **「記録開始」ボタン**（Start Workout / トレーニング開始）
  - 新規セッションを作成し、Workout Input Screenへ遷移
  - 画面中央〜下部に大きく配置（親指ゾーン）
  - Primary色で強調

- **「記録中の続き」ボタン**（記録中セッションがある場合のみ）
  - 記録中セッションを再開し、Workout Input Screenへ遷移
  - 記録開始ボタンより上に配置し、より強調（色を変える、大きくする等）

#### 副次的操作
- 設定ボタン（右上、アイコンのみ）
  - Settings Screenへ遷移

#### 操作回数を最小にする工夫
- Home → 記録開始が **1タップ** で完了（目標2タップ以内を余裕でクリア）
- 記録中の続きも **1タップ** で復帰

### 4. UI/UX設計の要点

#### 親指操作を前提とした配置
```
┌─────────────────────────────┐
│  [App Name]          [設定] │ ← 上部：情報表示
│                             │
│     2025年12月21日           │
│                             │
├─────────────────────────────┤
│                             │
│  ［記録中セッションがある場合］│
│  ┌─────────────────────────┐│
│  │  記録中の続き            ││ ← 強調CTA（記録中のみ）
│  │  3種目、8セット記録済み   ││
│  └─────────────────────────┘│
│                             │
│  ┌─────────────────────────┐│
│  │   トレーニング開始        ││ ← Primary CTA
│  └─────────────────────────┘│
│                             │
│  （今月の回数・継続日数はP1） │
│                             │
└─────────────────────────────┘
```

#### 迷わせないための工夫
- **記録中セッションがある場合は「続き」を最優先表示**（ユーザーの意図を推測）
- CTAは最大2つまで（記録中の続き + 記録開始）
- 情報は最小限（日付のみ、P1の回数・継続日数は後回し）

#### 入力速度を落とさないための設計
- 1タップで記録開始（最速導線）
- 画面がシンプルで迷わない

### 5. 状態別UI

#### 通常状態（記録中セッションなし）
```
┌─────────────────────────────┐
│  [App Name]          [設定] │
│                             │
│     2025年12月21日           │
│                             │
│  ┌─────────────────────────┐│
│  │   トレーニング開始        ││ ← Primary CTA
│  └─────────────────────────┘│
│                             │
└─────────────────────────────┘
```

#### 記録中セッションがある場合
```
┌─────────────────────────────┐
│  [App Name]          [設定] │
│                             │
│     2025年12月21日           │
│                             │
│  ┌─────────────────────────┐│
│  │  記録中の続き            ││ ← 最優先CTA（強調色）
│  │  3種目、8セット記録済み   ││
│  └─────────────────────────┘│
│                             │
│  ┌─────────────────────────┐│
│  │   新しく開始             ││ ← 副次的CTA（控えめ）
│  └─────────────────────────┘│
│                             │
└─────────────────────────────┘
```

#### エラー時
- なし（この画面でエラーは発生しない）

### 6. 前回記録との関係
- なし（Home画面では前回記録を表示しない、Workout Input Screenで表示）

### 7. タイマーとの関係
- なし（Home画面ではタイマーは表示しない）

### 8. 計測イベント（最低限）
- `home_screen_viewed`（画面表示時）
- `workout_started`（記録開始ボタンタップ時）
  - プロパティ：`is_resume`（true: 記録中の続き、false: 新規）
- `settings_opened`（設定ボタンタップ時）

### 9. i18n対象文言
- `app_name`: "[App Name]"
- `start_workout_button`: "Start Workout" / "トレーニング開始"
- `resume_workout_button`: "Resume Workout" / "記録中の続き"
- `new_workout_button`: "Start New" / "新しく開始"
- `workout_in_progress_summary`: "{exerciseCount} exercises, {setCount} sets" / "{exerciseCount}種目、{setCount}セット記録済み"
- `settings_button`: "Settings" / "設定"

---

## 3. Workout Input Screen（トレーニング記録入力画面）

### ※ すでに詳細設計書を作成済み
- ファイル：`workout-input-screen-design.md`
- この画面は最重要であり、別ファイルで詳細に設計済み
- 以下は概要のみ記載

### 1. 画面の目的
- 部位・種目・セット（重量×回数）を爆速で入力（1セット5秒以内）
- 前回記録と比較しながら迷わず進められる
- タイマーと統合し、アプリ単独で完結

### 2. 主要機能
- 種目追加
- セット入力（重量・回数）
- 前回記録の表示
- 前回値のコピー（セット単位 + 全セット一括）
- タイマー統合（ミニ表示 + 拡大モーダル）
- 記録完了

### 3. 詳細
- **詳細は `workout-input-screen-design.md` を参照**

---

## 4. Settings Screen（設定画面）

### 1. 画面の目的
- **達成すべきこと**: 言語・単位を変更する
- **次の行動**: 設定変更後、元の画面に戻る（Homeまたはワンタップで戻る）

### 2. 表示要素

#### 必須表示要素
- ヘッダー（「設定」タイトル + 戻るボタン）
- 言語設定（English / 日本語）
- 単位設定（kg / lb）

#### 条件付き表示要素
- なし（MVPでは言語・単位のみ）

### 3. 主要操作（CTA）

#### 最も強いCTA
- **戻るボタン**（ヘッダー左上）
  - 設定を保存し、前の画面に戻る

#### 副次的操作
- 言語選択（セグメントコントロールまたはラジオボタン）
- 単位選択（セグメントコントロールまたはラジオボタン）

#### 操作回数を最小にする工夫
- 選択肢をタップするだけで即座に保存（保存ボタン不要）
- セグメントコントロールで1タップ選択

### 4. UI/UX設計の要点

#### 親指操作を前提とした配置
```
┌─────────────────────────────┐
│ [戻る]     設定              │ ← ヘッダー
├─────────────────────────────┤
│                             │
│  言語 / Language            │
│  ┌───────────────────────┐  │
│  │ English  │  日本語    │  │ ← セグメントコントロール
│  └───────────────────────┘  │
│                             │
│  単位 / Unit                │
│  ┌───────────────────────┐  │
│  │   kg     │    lb      │  │ ← セグメントコントロール
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘
```

#### 迷わせないための工夫
- 設定項目は2つのみ（言語・単位）で最小限
- 現在の選択状態が明確に分かる（セグメントコントロールで選択状態を強調）
- 保存ボタン不要（即座に保存）

#### 入力速度を落とさないための設計
- 1タップで選択完了
- 保存ボタン不要（即座に反映）

### 5. 状態別UI

#### 通常状態
- 上記のUI表示
- 現在の設定値が選択状態

#### エラー時
- なし（選択肢は2つのみで、エラーは発生しない）

### 6. 前回記録との関係
- なし（設定画面のため）

### 7. タイマーとの関係
- なし（設定画面のため）

### 8. 計測イベント（最低限）
- `settings_screen_viewed`（画面表示時）
- `language_changed`（言語変更時）
  - プロパティ：`new_language`（変更後の言語）
- `unit_changed`（単位変更時）
  - プロパティ：`new_unit`（変更後の単位）

### 9. i18n対象文言
- `settings_title`: "Settings" / "設定"
- `language_label`: "Language" / "言語"
- `language_english`: "English"
- `language_japanese`: "日本語"
- `unit_label`: "Unit" / "単位"
- `unit_kg`: "kg"
- `unit_lb`: "lb"
- `back_button`: "Back" / "戻る"

---

# P0拡張画面（P0だが、実装順は後でも良い）

※以下は「継続・成長実感」を生むためのP0拡張。
※P0コアが完成した後に実装してよい。

---

## 5. Workout Detail Screen（その日の記録詳細画面）

### 1. 画面の目的
- **達成すべきこと**: その日のトレーニング内容を振り返り、達成感を得る
- **次の行動**:
  - 種目別グラフへ遷移（成長過程を確認）
  - Homeに戻る

### 2. 表示要素

#### 必須表示要素
- ヘッダー（日付 + 戻るボタン）
- セッション開始〜終了時刻（例：14:32 - 15:45）
- 種目一覧（種目名 + セット数）
- 各種目のセット詳細（重量×回数）

#### 条件付き表示要素
- **記録がある場合**: 種目一覧を表示
- **記録がない場合**: 空状態表示（例：「この日は記録がありません」）

### 3. 主要操作（CTA）

#### 最も強いCTA
- **戻るボタン**（ヘッダー左上）
  - 前の画面に戻る（HistoryまたはHome）

#### 副次的操作
- 種目タップ → Exercise Progress Screenへ遷移（その種目のグラフを表示）

#### 操作回数を最小にする工夫
- 種目タップで即座にグラフへ遷移（1タップ）

### 4. UI/UX設計の要点

#### 親指操作を前提とした配置
```
┌─────────────────────────────┐
│ [戻る]   2025年12月21日      │ ← ヘッダー
│          14:32 - 15:45      │
├─────────────────────────────┤
│                             │
│  ベンチプレス               │ ← 種目カード（タップ可能）
│  40kg×10 / 40kg×10 / 35×12  │
│                             │
│  スクワット                 │
│  60kg×10 / 60kg×10 / 55×12  │
│                             │
│  デッドリフト               │
│  80kg×8 / 80kg×8 / 75×10    │
│                             │
└─────────────────────────────┘
```

#### 迷わせないための工夫
- 種目カードは明確にタップ可能と分かるデザイン（カード形式、影付き等）
- セット詳細は1行で表示（読みやすさ優先）

#### 入力速度を落とさないための設計
- この画面は「見る」ことが目的なので、入力速度は関係なし

### 5. 状態別UI

#### 通常状態（記録がある場合）
- 上記のUI表示

#### 空状態（記録がない場合）
```
┌─────────────────────────────┐
│ [戻る]   2025年12月21日      │
├─────────────────────────────┤
│                             │
│          📋                 │
│                             │
│   この日は記録がありません    │
│                             │
└─────────────────────────────┘
```

#### エラー時
- なし（表示のみの画面のため）

### 6. 前回記録との関係
- なし（詳細表示画面では前回記録は表示しない）

### 7. タイマーとの関係
- なし（詳細表示画面ではタイマーは表示しない）

### 8. 計測イベント（最低限）
- `workout_detail_viewed`（画面表示時）
  - プロパティ：`date`（表示した日付）、`exercise_count`（種目数）、`set_count`（総セット数）
- `exercise_detail_opened`（種目タップ時）
  - プロパティ：`exercise_name`（種目名）

### 9. i18n対象文言
- `workout_detail_title`: "Workout Detail" / "記録詳細"
- `session_time`: "{startTime} - {endTime}"
- `empty_state_message`: "No workout recorded on this day." / "この日は記録がありません"
- `back_button`: "Back" / "戻る"

---

## 6. Exercise Progress Screen（種目別グラフ画面）

### 1. 画面の目的
- **達成すべきこと**: 種目ごとの成長過程を可視化し、モチベーションを高める
- **次の行動**:
  - グラフを見て達成感を得る
  - 前の画面に戻る

### 2. 表示要素

#### 必須表示要素
- ヘッダー（種目名 + 戻るボタン）
- グラフ（指標1つ：トップ重量 または 総ボリューム）
- 期間選択（簡易：直近3ヶ月 / 全期間、P1で検討）

#### 条件付き表示要素
- **記録が2回以上ある場合**: グラフを表示
- **記録が1回以下の場合**: 空状態表示（例：「記録が少なくてグラフを表示できません」）

### 3. 主要操作（CTA）

#### 最も強いCTA
- **戻るボタン**（ヘッダー左上）
  - 前の画面に戻る

#### 副次的操作
- 期間選択（P1、MVP後に追加検討）

#### 操作回数を最小にする工夫
- グラフは自動表示（操作不要）

### 4. UI/UX設計の要点

#### 親指操作を前提とした配置
```
┌─────────────────────────────┐
│ [戻る]   ベンチプレス         │ ← ヘッダー
├─────────────────────────────┤
│                             │
│   トップ重量の推移           │
│                             │
│   50kg ┐                    │ ← グラフ
│        │      ●             │
│   40kg │   ●     ●          │
│        │ ●                  │
│   30kg └─────────────────   │
│        12/1  12/8  12/15    │
│                             │
│  （期間選択はP1）             │
│                             │
└─────────────────────────────┘
```

#### 迷わせないための工夫
- グラフはシンプルに1指標のみ表示（トップ重量 または 総ボリューム）
- 期間は自動で直近3ヶ月を表示（選択不要、P1で追加検討）

#### 入力速度を落とさないための設計
- この画面は「見る」ことが目的なので、入力速度は関係なし

### 5. 状態別UI

#### 通常状態（記録が2回以上ある場合）
- 上記のUI表示

#### 空状態（記録が1回以下の場合）
```
┌─────────────────────────────┐
│ [戻る]   ベンチプレス         │
├─────────────────────────────┤
│                             │
│          📊                 │
│                             │
│  記録が少なくて              │
│  グラフを表示できません       │
│                             │
│  もう少しトレーニングを       │
│  記録してみましょう           │
│                             │
└─────────────────────────────┘
```

#### エラー時
- なし（表示のみの画面のため）

### 6. 前回記録との関係
- なし（グラフ表示画面では前回記録は表示しない）

### 7. タイマーとの関係
- なし（グラフ表示画面ではタイマーは表示しない）

### 8. 計測イベント（最低限）
- `exercise_progress_viewed`（画面表示時）
  - プロパティ：`exercise_name`（種目名）、`record_count`（記録回数）
- `period_changed`（期間選択変更時、P1で追加検討）
  - プロパティ：`new_period`（選択した期間）

### 9. i18n対象文言
- `exercise_progress_title`: "Exercise Progress" / "種目別グラフ"
- `top_weight_label`: "Top Weight" / "トップ重量"
- `total_volume_label`: "Total Volume" / "総ボリューム"
- `empty_state_message`: "Not enough data to show graph. Keep recording your workouts!" / "記録が少なくてグラフを表示できません。もう少しトレーニングを記録してみましょう"
- `back_button`: "Back" / "戻る"

---

# 全画面共通の設計原則

## 1. 親指ゾーン最適化
- **画面下部1/3**: 主要CTA（最も重要な操作）
- **画面中央**: 情報表示・入力エリア
- **画面上部**: 情報表示のみ（操作要素は置かない）

## 2. 迷わせない設計
- **1画面1目的**（ホーム=開始、入力=積む、履歴=見る）
- **CTAは最大2つまで**（優先度を明確にする）
- **デフォルト値を設定**（ユーザーが選ばなくても良い状態にする）

## 3. 速度優先
- **2タップ以内でコア機能に到達**（ホーム→記録開始）
- **保存ボタン不要**（即座に保存、自動保存）
- **余計な確認ダイアログは入れない**（誤操作防止は最小限）

## 4. 情報密度
- **必要な情報は削らない**（前回記録は必ず表示）
- **不要な情報は追加しない**（説明文は最小限）
- **視線誘導は縦で迷わせない**（スクロール方向は縦のみ）

## 5. i18n対応
- **すべての文字列をリソース化**（直書き禁止）
- **日付・数値のローカライズ**（OS設定に従う）
- **単位の自動変換**（kg/lbの切替に対応）

---

# 実装優先順位（再確認）

## Phase 1: P0コア（最初に必ず作る）
1. Initial Setup Screen
2. Home Screen
3. **Workout Input Screen**（最重要、全体の80%の価値）
4. Settings Screen

## Phase 2: P0拡張（P0コア完成後）
5. Workout Detail Screen
6. Exercise Progress Screen

## Phase 3: P1（100ユーザー達成後）
- 今月のトレーニング回数・継続日数（Homeに追加）
- カレンダー履歴（新規画面）
- 種目の曖昧検索
- タイマーのプリセット
- グラフの期間選択
- etc.

---

# まとめ：なぜこの設計か

## P0コア画面
- **Initial Setup**: 最小限の設定で即座に開始（迷わせない）
- **Home**: 2タップ以内で記録開始（最速導線）
- **Workout Input**: 1セット5秒以内の入力、前回コピー1タップ、タイマー統合（コンセプトの核）
- **Settings**: 言語・単位の変更のみ（シンプル）

## P0拡張画面
- **Workout Detail**: 振り返りと達成感（継続動機）
- **Exercise Progress**: 成長実感（継続動機）

すべての画面が「最小の機能で、確実にユーザーを獲得・継続させる」というプロダクト前提に沿って設計されています。
