# 技術選定：Flutter vs React Native

## 比較表

| 評価軸 | Flutter | React Native | 判定 |
|--------|---------|--------------|------|
| **入力UIの作りやすさ** | ◎ カスタムウィジェット作成が容易。TextField、ボトムシート、モーダルが標準で柔軟。親指操作に最適化したUIを細かく調整可能 | △ TextInputはネイティブだがカスタマイズに制約。サードパーティライブラリへの依存が増える | **Flutter有利** |
| **状態管理の分かりやすさ** | ○ Riverpod/Blocが直感的。Providerパターンが統一されている | ○ React Hooks（useState/useContext）が標準。Zustand/Jotaiも選択肢。React経験者には馴染みやすい | **ほぼ互角** |
| **パフォーマンス（体感速度）** | ◎ 独自レンダリングエンジン（Skia）で60fps維持。入力中のカクつきが少ない | △ JSブリッジ経由でジャンクが発生しやすい。Hermesで改善されているがFlutterには及ばない | **Flutter有利** |
| **個人開発での保守性** | ◎ Dartの型安全性、高速なホットリロード、依存関係が安定している | △ TypeScript使用で型安全は可能だが、ネイティブモジュールのバージョン管理が複雑化しやすい | **Flutter有利** |
| **グローバル展開（i18n）** | ○ flutter_localizations公式サポート。intlパッケージで標準化。ARBファイルで翻訳管理 | ○ react-i18nextが成熟。日付/数値はmoment/date-fns等で対応 | **ほぼ互角** |
| **MVP最短到達** | ◎ 初学者でも習得が早い。ウィジェット組み合わせで直感的。iOS/Android調整ほぼ不要 | ○ React経験者は即開始可能。iOS/Androidで微調整が必要な場合あり | **Flutter有利**（React経験なしの場合） |
| **コミュニティ/将来性** | ○ Google公式、成長中、プラグイン豊富 | ○ Meta公式、成熟、豊富だがメンテナンス停止もあり | **ほぼ互角** |

---

## 最終結論：Flutterを選択

### 理由
このアプリのMVPでは **Flutter（Dart）** を選択すべき。

#### 1. 入力UIの作りやすさ（最重要）
- コンセプトの核心は「1セット5秒以内の入力」
- 重量・回数の数値入力UIを親指操作に最適化する必要がある
- Flutterはカスタムウィジェットの作成が容易で、細かな調整が可能
- React Nativeはサードパーティライブラリへの依存が増え、調整に時間がかかる

#### 2. パフォーマンス（体感速度が成功の鍵）
- 「記録入力中にカクつかない」はP0要件
- Flutterの独自レンダリングエンジン（Skia）は60fps/120fpsを安定して維持
- React NativeのJSブリッジは、頻繁な状態更新（セット入力、タイマー更新）でジャンクが発生しやすい
- **体感速度の差が、ユーザーの継続率に直結する**

#### 3. 個人開発での保守性
- Dartの型安全性により、リファクタリングが容易
- 依存関係が安定しており、「バージョン更新で動かなくなる」リスクが低い
- React Nativeはネイティブモジュールのバージョン管理が複雑化しやすく、個人開発で時間を取られる

#### 4. MVP最短到達
- 初学者でもウィジェットの組み合わせで直感的に開発できる
- ホットリロードが高速で、試行錯誤のサイクルが早い
- iOS/Androidの調整がほぼ不要（一度書けば両方で動く）

---

## なぜReact Nativeを選ばないか（批判的評価）

### 1. 入力体験の滑らかさで劣る
- このアプリの成功は「爆速入力」にかかっている
- React NativeのJSブリッジは、入力UIの体感速度でFlutterに劣る
- 「5秒以内で1セット入力」を実現するには、UIのレスポンスが致命的に重要
- **体感速度で妥協すると、コンセプトが崩れる**

### 2. カスタムUI作成に時間がかかる
- 親指操作に最適化したUIを作るには、細かな調整が必要
- React Nativeは標準コンポーネントのカスタマイズに制約があり、サードパーティライブラリに頼る必要がある
- ライブラリの選定、学習、バージョン管理に時間を取られる
- **MVP最短到達を妨げる**

### 3. 個人開発での保守リスクが高い
- React Nativeは依存関係が複雑になりやすい
- ネイティブモジュールのアップデートで突然動かなくなるリスクがある
- 個人開発では「メンテナンスに時間を取られる」ことが最大のリスク
- **100ユーザー獲得後の改善サイクルを妨げる**

### 4. React経験のメリットが限定的
- React経験者にとっては開発開始が早いが、**それだけ**
- このアプリのコア価値（入力UI、パフォーマンス）では優位性がない
- React経験がない場合、Flutterの方が習得が早い
- **React経験がある場合でも、長期的にはFlutterが有利**

### 5. 「速さ」で妥協できない
- React Nativeでも「普通に動く」アプリは作れる
- しかし、このアプリは「世界一速い入力」を売りにしている
- **「普通」では差別化できず、100ユーザー獲得は困難**
- Flutterの体感速度は、ユーザーの「これ、速い！」という感動に直結する

---

## 結論を支える追加根拠

### コンセプトとの整合性
- コンセプト：「次のセットを最速で記録できる筋トレログ」
- 成功の鍵：「記録入力が爆速」「タイマーが記録を邪魔しない」
- → **入力UIのパフォーマンスが最優先**
- → Flutterの選択は、コンセプトを実現するための必然

### ターゲットユーザーの期待
- ターゲット：「アプリ操作に時間かけたくない」人
- 期待：「セット間入力に命かけてる人」
- → **体感速度での妥協は、ターゲットの期待を裏切る**

### 口コミで広がる一言
- 「これ、セット記録が爆速。前回コピーできるやつ」
- → 「爆速」が口コミの核心
- → React Nativeの「普通の速さ」では口コミが生まれない

---

## 最終決定

**Flutter（Dart）を選択する**

- 入力UIの作りやすさ、パフォーマンス、保守性のすべてで優位
- React Nativeを選ぶ明確な理由がない（React経験があっても長期的にはFlutterが有利）
- コンセプトの「爆速入力」を実現するには、Flutterが最適解
