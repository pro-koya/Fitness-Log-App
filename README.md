# Fitness-Log-App
前提
あなたは、個人開発で複数のモバイルアプリを成功させ、
最小の機能で確実にユーザーを獲得・継続させてきた
プロダクト志向のシニアエンジニア兼UXデザイナーです。

以下の前提を必ず守ってください。

【プロダクト前提】
- コンセプト：
  「次のセットを最速で記録できる筋トレログ」
- 最初の目標：
  100ユーザーに継続して使ってもらうこと
- 成功の鍵：
  1. 記録入力が爆速
  2. 前回記録を迷わずコピーできる
  3. タイマーが記録を邪魔しない
- MVPはローカル完結（同期・アカウントは後回し）
- P0（必須）以外の機能は勝手に追加しない
- デザインはスタイリッシュでシンプルなものを意識し、余分なアイコンやロゴは配置しないこと（UI/UXの品質は高く保ち、スマホ操作の快適さを担保する）

【重要な制約】
- 「高機能」より「速さ・迷わなさ」を優先する
- 説明で解決せず、UIで解決する
- ユーザーが考える工程を1つでも減らすことを最優先する

この前提から外れる提案・実装は行わないでください。


基本概念
⒈ コンセプト・概要

コンセプト（1行で刺さる定義）

「次のセットを、最速で記録できる筋トレログ」
※ “世界一シンプル”は抽象的で刺さりにくい。ユーザーが欲しいのは「入力が速い」「前回が見える」「タイマーがある」＝“次のセットがラク”です。

ターゲット向けの価値（ベネフィット）
	•	記録が速い → トレを中断しない
	•	前回が見える → 迷わず伸ばせる
	•	タイマー統合 → アプリを行き来しない

アプリの概要（MVPの中身）
	•	トレ中：種目→セットを“積むだけ”で完了、セット間はタイマーが勝手に支える
	•	トレ後：今日の内容が1画面で振り返れる
	•	後日：種目ごとに伸びが見える（最低1つの分かりやすい指標）

批判的ポイント（コンセプトの落とし穴）
	•	「シンプル」だけだと市場で埋もれがち。“速さ”を売りにするのが差別化になりやすい
	•	「タイマー包含」は良いが、UXを壊しやすい。**記録を邪魔しない形（常時ミニ表示）**が必須

⸻

⒉ 目標・目的

目的（プロダクト）
	•	“記録が面倒”を消して、筋トレの継続と成長実感を支える

ビジネス/検証目標（最初の100ユーザーで見るべきKPI）

獲得より先に「初回体験の成功」を定義しないと伸びないので、以下を固定します。
	•	目標1：登録（または初回起動）100人
	•	目標2：初回体験成功率（Activation）
	•	初回起動→1回のトレ記録完了：60% 以上
	•	目標3：継続（Retention）
	•	D7継続率：20%（まずの合格ライン）
	•	週2回以上記録：10%（コアユーザーの芽）

“100人集める”ための前提（プロダクト側の必須）
	•	口コミで増える確率を上げるには、**「人に勧めやすい一言」**が必要
	•	例：「これ、セット記録が爆速。前回コピーできるやつ」

⸻

⒊ 解決できる課題と利用シーン・ターゲット

解決する課題（優先度順）
	1.	記録が遅い・面倒で続かない
	2.	前回が分からず、毎回考えるのがだるい
	3.	タイマーと記録を行き来して集中が切れる
	4.	成長実感が薄くて飽きる

主要ターゲット（最初の100人に刺さる層）
	•	週2〜5回筋トレする人（初心者〜中級者）
	•	記録はしたいが“アプリ操作に時間かけたくない”人
	•	ジムで片手操作（スマホ片手、もう片手はダンベル/マシン）

利用シーン（行動ベース）
	•	セット間：残り時間を見つつ、次セットを入力
	•	種目変更時：前回を見て重さを決める
	•	トレ後：今日の内容をサッと確認して達成感
	•	数週間後：伸びをグラフで見て継続動機に

批判的ポイント（ターゲットの罠）
	•	“全員向け”にすると薄くなる。最初は 「セット間入力に命かけてる人」 に寄せたほうが伸びる
	•	上級者（細かい分析やテンプレ管理欲しい層）に寄せると複雑化しやすい → MVPの敵

⸻

⒋ 開発方針（世界一シンプルの定義・デザイン方針）

「世界一シンプル」のプロダクト定義（数値で固定）
	•	ホーム→記録開始：2タップ以内
	•	1種目の記録追加：5秒以内
	•	前回コピー：1タップ
	•	タイマー操作：親指1箇所で完結
	•	迷う画面分岐を作らない（同じ操作は同じ場所）

UX原則（迷いを消すルール）
	•	主要操作は画面下部（親指ゾーン）
	•	入力は「足す」中心（削除は控えめで誤操作防止）
	•	“今日”が常に中心（履歴探索は副導線）
	•	設定は極力後回し（単位/言語だけは初期に選べる）

デザイン方針（実装ブレ防止）
	•	1画面1目的（ホーム=開始、入力=積む、履歴=見る）
	•	色は機能に紐づける（成功/警告程度）※装飾で増やさない
	•	情報密度は高めOKだが、視線誘導は縦で迷わせない
	•	アニメーションは最小（速さ＝正義）

批判的ポイント
	•	“シンプル”のために情報を削りすぎると「前回比較」が弱くなる
→ 前回表示は削らない。最重要。

⸻

⒌ 開発する言語と開発規約

推奨スタック（iOS/Android同時・UI速度重視）

Flutter（Dart）を選択

  決定的な理由（3つ）

  1. 入力UIの作りやすさ（最重要）
    - 「1セット5秒以内」を実現するには、親指操作に最適化したUIが必須
    - Flutterはカスタムウィジェット作成が容易、React Nativeはライブラリ依存が増える
  2. パフォーマンス（体感速度が成功の鍵）
    - 独自レンダリングエンジンで60fps安定、入力中のカクつきが少ない
    - React NativeのJSブリッジは頻繁な状態更新でジャンクが発生しやすい
    - 体感速度の差が、ユーザーの継続率に直結する
  3. 個人開発での保守性
    - 依存関係が安定、型安全、リファクタリングが容易
    - React Nativeはネイティブモジュールの管理が複雑化しやすい

  React Nativeを選ばない理由（批判的評価）

  - 「爆速入力」で妥協できない：React Nativeでも動くが、「普通の速さ」では差別化できず100ユーザー獲得は困難
  - カスタムUI作成に時間がかかる：MVP最短到達を妨げる
  - 保守リスクが高い：個人開発で「メンテナンスに時間を取られる」ことが最大のリスク
  - React経験のメリットが限定的：開発開始は早いが、長期的にはFlutterが有利

規約（ブレないための最低限）
	•	アーキ：Feature-first（画面/機能単位でフォルダ分け）
	•	状態管理：Riverpod / Bloc のどちらかに統一（迷わない方でOK）
	•	命名：
	•	UI: xxx_screen, xxx_sheet, xxx_widget
	•	Domain: WorkoutSession, Exercise, SetRecord 等の英語統一
	•	テスト：
	•	変換（kg↔lb）や集計（継続日数/回数）は ユニットテスト必須
	•	i18n：文字列は必ずリソース化（直書き禁止）


要件
# プロダクト要件：世界一シンプルな筋トレ記録アプリ（MVP：100ユーザー獲得）

## 0. プロダクト概要
- コンセプト：
  - 「次のセットを最速で記録できる筋トレログ」
  - 前回記録と比較しながら、迷わず入力できる
  - タイマーが統合され、筋トレ中はこのアプリだけで完結する
- 展開先：グローバル（ヨーロッパ、米国・カナダ、日本）
- 対応OS：iOS / Android（クロスプラットフォーム前提）
- 目標：まずは100ユーザーに使ってもらい、継続して使われる状態を作る

## 前回記録要件
- 「前回」とは、同一種目（exercise）の **直近の完了（completed）セッション**における記録を指す
  - 記録中（in_progress）のデータは参照しない（前回がブレないため）
- 種目カード上部の「前回」表示は、前回セッションの **セット一覧（重量×回数）** を表示する
  - 例：前回 `40×10 / 40×10 / 35×12`
  - セット数が多い場合は先頭3つ＋“…”で省略し、タップで展開できる
- 「前回コピー」は **セット単位コピー** をデフォルトとする
  - 今日のNセット目には、前回のNセット目の値（重量・回数）をコピーする
  - 前回にNセット目が存在しない場合は、前回の最後のセットをコピーする
- （推奨：P0に含めて良い）「前回を再現」ボタンを種目カードに用意し、前回のセット数と値をワンタップで複製できる
- 単位（kg/lb）の扱い
  - セット記録は **数値＋単位** を保持する
  - 前回コピー時は、ユーザー設定の単位に合わせてコピーする
  - 前回の単位と異なる場合は **自動変換** して入力する（誤入力防止）
- 前回記録が存在しない場合
  - 種目カードの前回表示は「—」
  - 前回コピーは無効化する（押せない）

## 1. UX/体験要件（最重要）
- 片手操作（親指）で迷わず操作できること
- ホーム→記録開始が 2タップ以内で到達できること（目標）
- 1セット（重量・回数）の入力が 5秒以内で完了できること（目標）
- 前回記録の提示が常に分かりやすく、比較が容易であること
- 前回の重量/回数を 1タップでコピーできること（前回コピー）
- タイマーが記録入力を妨げないこと（重要：非干渉）
- 初回起動から1回目の記録完了まで、迷う工程が最小であること
- 速度優先：余計な設定/入力を増やさない（MVPは最小）

## 2. 画面要件（必要画面）
### 2.1 Home（ホーム）
- 表示要件
  - 本日のトレーニング記録の状態（未記録 / 記録中 / 完了）
  - 記録開始への導線（最優先CTA）
  - 今月のトレーニング回数（定義が必要）
  - トレーニング継続日数（連続日数の定義が必要）
- 操作要件
  - 「記録開始」ボタン
  - 「記録中の続き（再開）」がある場合は強い導線で表示（推奨）

### 2.2 History（記録一覧 / 履歴）
- 表示要件
  - カレンダー表示（月）は必須
  - カレンダー表示（週）は任意（検討）
  - 表形式表示（日毎）は任意（検討）
- 操作要件
  - 月カレンダーで日付をタップすると、ポップアップでその日の記録サマリが見える
  - ポップアップからその日の詳細画面へ遷移できる
- 情報要件
  - 記録がある日/ない日の表示差分が分かること

### 2.3 Workout Input（トレーニング記録入力：最重要画面）
- 基本フロー
  - 「記録開始」→ 記録入力 → 完了
- 入力構造（データ要件）
  - 部位（Body Part）
  - 種目（Exercise）
  - セット（Set）：重量、回数（セット毎に複数）
- UI要件（セット入力）
  - 1セット目はデフォルト表示
  - 2セット目以降は「+追加」ボタンで増やせる
  - 「×」ボタンでセットを減らせる（誤操作対策が必要：Undo等の検討）
  - 重量と回数の入力がとにかくしやすい（スマホ特化）
- UI要件（部位・種目の選択）
  - 部位：選択リスト形式
  - 種目：選択リスト形式（部位で絞り込み）
  - 種目は曖昧検索（部分一致など）で検索可能
  - 種目は自由入力も可能
  - 自由入力した種目は次回以降、選択候補として追加される（ユーザー辞書）
- 前回記録要件
  - 種目ごとに「前回の記録（例：重量x回数）」が分かる形で表示される
  - 前回の値を 1タップでコピーして現在セットに反映できる
  - 「前回」の定義（直近の同一種目か、同一部位内か等）を明確化する必要がある
- 単位要件
  - 重量単位は kg / lb の切替が可能であること（グローバル対応）
  - 単位変換（kg ↔ lb）機能があること（MVPでは表示補助でも良い）
  - 記録保存時に、単位を保持するか統一するか（要決定）
- セッション要件
  - 記録中（in_progress）と記録完了（completed）の状態を持つ
  - 記録中にアプリを閉じても復帰できる（推奨）

### 2.4 Workout Detail（その日の記録詳細）
- 表示要件
  - その日の種目一覧とセット一覧が見やすく確認できる
  - 種目タップで「種目別グラフ」へ遷移できる

### 2.5 Exercise Progress（種目別グラフ）
- 目的
  - 成長の過程を感じられ、モチベーションを保てる
- 表示要件（MVPは最小で良い）
  - 種目ごとに推移が分かるグラフ
  - 指標は最低1つ（例：トップ重量、総ボリューム等）から開始
  - 期間は簡易で良い（例：直近3ヶ月/全期間）

### 2.6 Timer（タイマー）
- 目的
  - 筋トレ中はこのアプリだけで完結し、集中を切らさない
- UI要件
  - 記録入力中でも起動でき、入力を妨げない導線であること（最重要）
  - 表示方式はポップアップ/フローティング/ミニプレイヤー等を検討し、最適案にする
  - ミニ表示（常時）→タップで拡大、の導線が望ましい（推奨）
- 機能要件
  - Start / Pause / Reset
  - プリセット（例：60s/90s/120s）
  - 終了通知（音/バイブ/通知。OS権限の考慮が必要）

## 3. 集計/定義要件（曖昧になりがちな部分を明確化）
- 「今月のトレーニング回数」の定義
  - 例：completedセッション数（同日複数を許容するか）
- 「トレーニング継続日数」の定義
  - 例：連続して記録がある日数（1日に複数回でも1日=1カウント）
- 日付の扱い（タイムゾーン）
  - ローカル日付基準で集計する（グローバル対応のため重要）
- 「前回記録」の定義
  - 直近のcompletedセッション内の同一種目の最終セット？
  - 直近の同一種目のトップセット？
  - どの値を表示/コピーするかを決める（要件として確定する）

## 4. データ/保存要件（MVP）
- MVPはローカル保存（オフライン）で成立させる
- 必要データ（最低限）
  - settings（言語、単位）
  - exercise_master（標準＋ユーザー辞書）
  - workout_sessions（トレ単位）
  - workout_exercises（セッション内の種目）
  - set_records（セット記録）
- パフォーマンス要件
  - 前回参照やグラフ表示が重くならない設計（索引や集計の工夫）

## 5. グローバル対応要件（MVPで必須）
- 言語：英語 / 日本語（最低限）
- 単位：kg / lb
- UI：スマホ利用特化（親指範囲、フォント、入力のしやすさ）
- 文字列の直書き禁止（i18nリソース化）

## 6. 非機能要件（MVPで必須）
- 起動・操作が軽い（入力中にカクつかない）
- オフラインでも記録できる
- クラッシュしない（最低限の安定性）
- 個人情報は持たない（MVPはアカウント無し前提）
- 解析は最小（主要イベントのみ）

## 7. 禁止事項（スコープ暴走防止）
- MVP段階で以下は勝手に追加しない
  - 同期/ログイン
  - 栄養管理、メニュー提案、SNS共有、コミュニティ
  - 過剰な分析（筋群ボリューム、1RM推定の高度版等）
  - 複雑なテンプレ/プログラム管理